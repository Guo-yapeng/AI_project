# 视觉小说游戏

一个基于网页的交互式视觉小说游戏，讲述了一个关于太空探险、友情与选择的科幻故事。游戏具有现代化的界面设计和丰富的多媒体功能。

## 🎮 游戏特性

### 核心功能
- **完整故事**: 科幻背景的多分支剧情，包含多个结局
- **对话系统**: 流畅的对话展示，支持打字机效果和角色语音
- **选择分支**: 多种选择影响故事走向，决定不同结局
- **场景切换**: 动态背景变化，支持图片和视频背景
- **角色系统**: 支持多角色立绘显示，包含表情和位置变化
- **保存/读取**: 本地存储游戏进度和选择记录
- **自动模式**: 自动播放对话内容
- **介绍视频**: 游戏开始前的故事背景介绍

### 多媒体支持
- **背景音乐**: 丰富的BGM系统，根据场景自动切换
- **角色语音**: 支持角色对话语音播放
- **视觉效果**: 多种对话特效（淡入、震动、闪烁、回声等）
- **视频背景**: 支持视频作为场景背景

### 界面特色
- **现代化设计**: 渐变背景，毛玻璃效果
- **响应式布局**: 适配不同屏幕尺寸
- **流畅动画**: CSS动画增强用户体验
- **直观操作**: 点击或按键继续游戏

### 设置选项
- **文字速度**: 调节打字机效果速度
- **音量控制**: 实时调节背景音乐和语音音量
- **自动播放**: 开启/关闭自动模式

## 🚀 快速开始

### 安装运行

1. **下载项目**
   ```bash
   git clone [项目地址]
   cd AI_project-4
   ```

2. **启动本地服务器**
   ```bash
   # 使用Python
   python -m http.server 8000
   
   # 或使用Node.js
   npx serve .
   
   # 或使用PHP
   php -S localhost:8000
   ```

3. **打开游戏**
   - 在浏览器中访问 `http://localhost:8000`
   - 或直接双击 `index.html` 文件（部分功能可能受限）

### 系统要求

- 现代浏览器（Chrome 60+, Firefox 55+, Safari 12+, Edge 79+）
- 支持HTML5音频和视频
- 建议使用本地服务器运行以获得完整功能

## 📁 文件结构

```
AI_project-4/
├── index.html              # 主页面文件
├── style.css               # 样式表
├── game.js                 # 游戏逻辑
├── README.md               # 项目说明
├── media_structure.md      # 媒体资源结构说明
├── images/                 # 图片资源
│   ├── backgrounds/        # 背景图片
│   └── characters/         # 角色立绘
├── audio/                  # 音频资源
│   ├── bgm/               # 背景音乐
│   └── voices/            # 语音文件
└── videos/                # 视频资源
    └── background.mp4     # 背景视频
```

## 🎯 游戏操作

- **点击/空格**: 继续对话
- **选择选项**: 点击选项按钮
- **设置**: 点击右上角设置图标
- **保存/读取**: 点击对应按钮
- **自动模式**: 点击自动按钮，对话自动播放
- **音量调节**: 在设置面板中调节音量滑块
- **文字速度**: 在设置面板中调节文字速度

## 🔧 技术实现

### 使用技术
- HTML5 (结构和内容)
- CSS3 (样式和动画)
- JavaScript ES6 (游戏逻辑和交互)
- Web Audio API (音频处理)
- HTML5 Video (视频背景)
- LocalStorage (游戏存档)

### 核心类
- `GameState`: 管理游戏状态、选择记录和设置数据
- `VisualNovelGame`: 处理游戏逻辑、UI交互和多媒体控制

### 数据结构
- 对话数据: JSON格式，包含对话文本、角色信息、背景、音效等
- 场景数据: 对象数组，定义场景转换和视觉效果
- 选择数据: 嵌套对象，定义选择分支和结果
- 音频数据: 对象映射，管理背景音乐和语音

### 音频系统
- 背景音乐: 根据场景自动切换，支持淡入淡出
- 角色语音: 与对话同步播放，可调节音量
- 音量控制: 实时调整所有音频元素的音量

### 视频系统
- 支持视频作为背景
- 自动播放/暂停控制
- 与游戏流程集成

## 🎨 自定义

可以通过修改以下内容来自定义游戏：
- `game.js` 中的对话和选择数据
- `style.css` 中的界面样式
- 替换媒体资源文件夹中的图片、音频和视频
- 按照 `media_structure.md` 中的规范添加新资

## 📱 兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 12+
- ✅ Edge 79+
- ✅ 移动端浏览器

## 🔧 开发指南

### 添加新场景

在 `game.js` 中的故事数据中添加新场景：

```javascript
{
    id: "scene_id",
    background: "背景图片路径",
    bgm: "背景音乐名称",
    dialogues: [
        {
            speaker: "角色名",
            text: "对话内容",
            character: "角色立绘路径",
            voice: "语音文件路径",
            effect: "特效类型"
        }
    ]
}
```

### 添加新角色

1. 在 `images/characters/` 目录添加角色立绘
2. 在 `audio/voices/` 目录添加角色语音文件夹
3. 在游戏数据中引用新角色

### 添加新音乐

1. 将音乐文件放入 `audio/bgm/` 目录
2. 在场景数据中设置 `bgm` 属性

### 性能优化建议

- **图片优化**: 压缩图片文件，使用适当的格式
- **音频优化**: 使用合适的比特率，避免过大的文件
- **代码优化**: 避免频繁的DOM操作，使用事件委托
- **缓存策略**: 预加载关键资源

### 功能扩展建议

- **存档系统**: 扩展当前的本地存储功能
- **成就系统**: 添加游戏成就和收集要素
- **多语言支持**: 实现国际化功能
- **移动端优化**: 改进触摸操作体验
- **音效系统**: 添加UI音效和环境音效

## 📝 更新日志

### v1.0.2 (当前版本)
- ✅ 修复音量调节功能
- ✅ 添加实时音量显示
- ✅ 改进音量滑块样式
- ✅ 增强调试功能

### v1.0.1
- ✅ 完善多媒体支持
- ✅ 添加角色语音系统
- ✅ 实现背景音乐切换
- ✅ 支持视频背景

### v1.0.0
- ✅ 基础游戏框架
- ✅ 对话系统
- ✅ 选择分支
- ✅ 保存/读取功能
- ✅ 自动播放模式

## 🤝 贡献指南

欢迎提交问题报告和功能建议！

1. Fork 本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 📄 许可证

本项目仅供学习和演示使用。

## 🙏 致谢

- 感谢所有参与游戏开发的团队成员
- 感谢提供音频和视觉资源的创作者
- 感谢测试和反馈的用户

---

**享受你的视觉小说之旅！** 🎭✨